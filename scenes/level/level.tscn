[gd_scene load_steps=23 format=4 uid="uid://b3adu3hp6rpm8"]

[ext_resource type="Script" uid="uid://bscuwlowwy8ii" path="res://scenes/level/level.gd" id="1_h3e3j"]
[ext_resource type="TileSet" uid="uid://bwgn47iym4p0v" path="res://resources/tileset/tileset.tres" id="2_ivku7"]
[ext_resource type="PackedScene" uid="uid://dw6tq28finwin" path="res://entities/unit/unit.tscn" id="2_nbgty"]
[ext_resource type="Script" uid="uid://34038uuij0uw" path="res://components/tile_highlight_manager/tile_highlight_manager.gd" id="3_pe1ox"]
[ext_resource type="Script" uid="uid://cjabqgtq2j7dj" path="res://entities/unit_team_container/unit_team_container.gd" id="3_qkmgm"]
[ext_resource type="Script" uid="uid://kdmoofypyfqi" path="res://entities/unit_team/unit_team.gd" id="4_hnne4"]
[ext_resource type="Script" uid="uid://drelgn24vd148" path="res://components/unit_controller/random_controller.gd" id="6_pe1ox"]
[ext_resource type="Script" uid="uid://hlpkw60qnjd7" path="res://components/unit_controller/player_controller.gd" id="7_b7m21"]
[ext_resource type="Resource" uid="uid://8ha2b12rbaxv" path="res://resources/unit_definition/player.tres" id="8_x4oov"]
[ext_resource type="Resource" uid="uid://bk6jkpq2anntw" path="res://resources/unit_definition/knight.tres" id="10_ivku7"]
[ext_resource type="Resource" uid="uid://cphikvpfwpwxw" path="res://resources/unit_definition/cyclops.tres" id="11_ivku7"]
[ext_resource type="PackedScene" uid="uid://cgk6a4uoxt8vt" path="res://ui/action_chooser/action_chooser.tscn" id="12_m0bv2"]
[ext_resource type="Resource" uid="uid://b4e16px0a4n0y" path="res://resources/unit_definition/ghost.tres" id="12_pm6rs"]
[ext_resource type="Script" uid="uid://csqaqnkhd2xn8" path="res://components/unit_controller/unit_controller.gd" id="12_vrc4q"]
[ext_resource type="PackedScene" uid="uid://cs5nt708g21yc" path="res://ui/win_display/win_display.tscn" id="15_vrc4q"]
[ext_resource type="Texture2D" uid="uid://vhusdsx3cvq0" path="res://assets/grayscale_primary.png" id="16_ivku7"]
[ext_resource type="Texture2D" uid="uid://0o2qyaaam6ua" path="res://assets/grayscale_highlight.png" id="17_ss4b2"]

[sub_resource type="Resource" id="Resource_pm6rs"]
script = ExtResource("7_b7m21")
metadata/_custom_type_script = "uid://hlpkw60qnjd7"

[sub_resource type="Resource" id="Resource_0fkkc"]
script = ExtResource("6_pe1ox")
metadata/_custom_type_script = "uid://drelgn24vd148"

[sub_resource type="Resource" id="Resource_qjqsm"]
script = ExtResource("7_b7m21")
metadata/_custom_type_script = "uid://hlpkw60qnjd7"

[sub_resource type="Resource" id="Resource_ss4b2"]
script = ExtResource("6_pe1ox")
metadata/_custom_type_script = "uid://drelgn24vd148"

[sub_resource type="Resource" id="Resource_x4oov"]
script = ExtResource("12_vrc4q")
metadata/_custom_type_script = "uid://csqaqnkhd2xn8"

[node name="Level" type="Node"]
script = ExtResource("1_h3e3j")

[node name="Tilemap" type="TileMapLayer" parent="."]
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAAAAQABAAEAAAABAAAAAQAEAAQAABABAAEAAQACAAQAAGACAAAAAQACAAQAAAACAAEAAQAAAAQAAAACAAIAAQAGAAMAAAABAAIAAQAGAAMAAAADAAAAAQAGAAMAAAAEAAAAAQACAAQAAAAFAAAAAQADAAQAAAAGAAAAAQAGAAMAAAAHAAAAAQACAAQAAAAIAAAAAQADAAQAAAAJAAAAAQADAAQAAAAKAAAAAQAGAAMAAAALAAAAAQACAAQAAAAMAAAAAQACAAQAAAANAAAAAQAEAAQAAAAOAAAAAQADAAEAAAAOAAEAAQADAAEAAAAOAAIAAQADAAEAAAAOAAMAAQADAAEAAAAOAAQAAQADAAEAAAAOAAUAAQADAAEAAAAOAAYAAQADAAEAAAAOAAcAAQADAAEAAAAOAAgAAQADAAEAAAAOAAkAAQADAAIAAAANAAkAAQACAAIAAAAMAAkAAQACAAIAAAALAAkAAQACAAIAAAAKAAkAAQACAAIAAAAJAAkAAQACAAIAAAAIAAkAAQACAAIAAAAHAAkAAQACAAIAAAAGAAkAAQACAAIAAAAFAAkAAQACAAIAAAAEAAkAAQACAAIAAAADAAkAAQACAAIAAAACAAkAAQACAAIAAAABAAkAAQACAAIAAAAAAAkAAQABAAIAAAAAAAgAAQABAAEAAAAAAAcAAQABAAEAAAAAAAYAAQABAAEAAAAAAAUAAQABAAEAAAAAAAQAAQABAAEAAAAAAAMAAQABAAEAAAAAAAIAAQABAAEAAAAAAAEAAQABAAEAAAABAAYAAQAGAAMAAAABAAUAAQADAAQAAGABAAQAAQACAAQAAGABAAgAAQADAAQAAGABAAMAAQACAAQAAGACAAgAAQABAAQAAAADAAYAAQAGAAMAAAADAAUAAQAAAAQAAAADAAQAAQAAAAQAAAADAAMAAQAAAAQAAAADAAIAAQAGAAMAAAACAAQAAQAAAAQAAAACAAUAAQAAAAQAAAACAAYAAQAGAAMAAAADAAEAAQAGAAMAAAACAAMAAQAAAAQAAAADAAgAAQAAAAQAAAAFAAYAAQAGAAMAAAAFAAUAAQAAAAQAAAAGAAQAAQAGAAMAAAAGAAMAAQAGAAMAAAAGAAIAAQAGAAMAAAAFAAIAAQAAAAQAAAAEAAIAAQAAAAQAAAAEAAMAAQAAAAQAAAAEAAYAAQAGAAMAAAAGAAYAAQAGAAMAAAAHAAYAAQAGAAMAAAAIAAUAAQAAAAQAAAAIAAQAAQAAAAQAAAAIAAMAAQAAAAQAAAAIAAIAAQAAAAQAAAAIAAEAAQAAAAQAAAAHAAEAAQAAAAQAAAAGAAEAAQAGAAMAAAAFAAMAAQAAAAQAAAAEAAQAAQAAAAQAAAAEAAUAAQAAAAQAAAAHAAUAAQAAAAQAAAAHAAIAAQAAAAQAAAAGAAUAAQAGAAMAAAAHAAQAAQAAAAQAAAAHAAMAAQAAAAQAAAAFAAEAAQAAAAQAAAAFAAQAAQAAAAQAAAAEAAEAAQAAAAQAAAAEAAgAAQABAAQAAAAFAAgAAQAAAAQAAAAIAAgAAQAGAAMAAAAKAAYAAQAGAAMAAAAKAAUAAQAAAAQAAAAKAAQAAQAAAAQAAAAJAAMAAQAAAAQAAAAIAAYAAQAGAAMAAAAIAAcAAQAGAAMAAAAJAAgAAQABAAQAAAAJAAQAAQAAAAQAAAAGAAgAAQABAAQAAAAHAAgAAQABAAQAAAAJAAYAAQAGAAMAAAALAAYAAQAGAAMAAAALAAUAAQAAAAQAAAALAAQAAQAAAAQAAAAMAAYAAQAGAAMAAAAMAAUAAQAAAAQAAAAMAAQAAQAAAAQAAAAKAAMAAQAGAAMAAAAJAAUAAQAAAAQAAAAMAAMAAQAGAAMAAAAMAAIAAQAAAAQAAAALAAIAAQAAAAQAAAALAAMAAQAGAAMAAAAKAAEAAQAGAAMAAAAJAAEAAQAAAAQAAAAKAAIAAQAGAAMAAAAJAAIAAQAAAAQAAAAKAAgAAQAAAAQAAAAMAAEAAQAAAAQAAAAMAAgAAQABAAQAAAALAAEAAQAAAAQAAAALAAgAAQAAAAQAAAANAAMAAQAGAAMAAAANAAIAAQACAAQAAFANAAEAAQADAAQAAFANAAQAAQADAAQAAFANAAUAAQADAAQAAFANAAYAAQAGAAMAAAANAAgAAQADAAQAAFAAAP//AQABAAEAAAABAP//AQAEAAMAAAACAP//AQAEAAMAAAADAP//AQAEAAMAAAAEAP//AQAEAAMAAAAFAP//AQAEAAMAAAAGAP//AQAEAAMAAAAHAP//AQAEAAMAAAAIAP//AQAEAAMAAAAJAP//AQAEAAMAAAAKAP//AQAEAAMAAAALAP//AQAEAAMAAAAMAP//AQAEAAMAAAANAP//AQAEAAMAAAAOAP//AQADAAEAAAABAP7/AQACAAAAAAACAP7/AQACAAAAAAADAP7/AQACAAAAAAAEAP7/AQACAAAAAAAFAP7/AQACAAAAAAAGAP7/AQACAAAAAAAHAP7/AQACAAAAAAAIAP7/AQACAAAAAAAJAP7/AQACAAAAAAAKAP7/AQACAAAAAAALAP7/AQACAAAAAAAMAP7/AQACAAAAAAANAP7/AQACAAAAAAAOAP7/AQADAAAAAAAAAP7/AQABAAAAAAABAAcAAQACAAQAAGACAAcAAQAAAAQAAAADAAcAAQAAAAQAAAAEAAcAAQAAAAQAAAAFAAcAAQAAAAQAAAAGAAcAAQAAAAQAAAAHAAcAAQAAAAQAAAAJAAcAAQAAAAQAAAAKAAcAAQAAAAQAAAALAAcAAQAAAAQAAAAMAAcAAQAAAAQAAAANAAcAAQACAAQAAFA=")
tile_set = ExtResource("2_ivku7")

[node name="TileHighlighter" type="Node2D" parent="."]
z_index = 1
script = ExtResource("3_pe1ox")
area_texture = ExtResource("17_ss4b2")
primary_texture = ExtResource("16_ivku7")

[node name="MapObjects" type="Node2D" parent="."]

[node name="Units" type="Node2D" parent="."]
script = ExtResource("3_qkmgm")

[node name="FriendlyTeam" type="Node2D" parent="Units"]
script = ExtResource("4_hnne4")

[node name="Player" parent="Units/FriendlyTeam" instance=ExtResource("2_nbgty")]
position = Vector2(40, 56)
controller = SubResource("Resource_pm6rs")
definition = ExtResource("8_x4oov")

[node name="Knight" parent="Units/FriendlyTeam" instance=ExtResource("2_nbgty")]
position = Vector2(104, 88)
controller = SubResource("Resource_0fkkc")
definition = ExtResource("10_ivku7")

[node name="Knight2" parent="Units/FriendlyTeam" instance=ExtResource("2_nbgty")]
position = Vector2(40, 104)
controller = SubResource("Resource_qjqsm")
definition = ExtResource("10_ivku7")

[node name="EnemyTeam" type="Node2D" parent="Units"]
script = ExtResource("4_hnne4")

[node name="Cyclops" parent="Units/EnemyTeam" instance=ExtResource("2_nbgty")]
position = Vector2(200, 56)
controller = SubResource("Resource_ss4b2")
definition = ExtResource("11_ivku7")

[node name="Cyclops2" parent="Units/EnemyTeam" instance=ExtResource("2_nbgty")]
position = Vector2(56, 104)
controller = SubResource("Resource_x4oov")
definition = ExtResource("11_ivku7")

[node name="Ghost" parent="Units/EnemyTeam" instance=ExtResource("2_nbgty")]
position = Vector2(136, 24)
controller = SubResource("Resource_ss4b2")
definition = ExtResource("12_pm6rs")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(4, 4)

[node name="UI" type="CanvasLayer" parent="."]

[node name="ActionChooser" parent="UI" instance=ExtResource("12_m0bv2")]

[node name="WinDisplay" parent="UI" instance=ExtResource("15_vrc4q")]

[connection signal="battle_draw" from="Units" to="." method="_on_units_battle_draw"]
[connection signal="battle_over" from="Units" to="." method="_on_units_battle_over"]

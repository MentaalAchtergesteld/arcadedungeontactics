[gd_scene load_steps=21 format=4 uid="uid://b3adu3hp6rpm8"]

[ext_resource type="Script" uid="uid://bscuwlowwy8ii" path="res://scenes/level/level.gd" id="1_h3e3j"]
[ext_resource type="PackedScene" uid="uid://dw6tq28finwin" path="res://entities/unit/unit.tscn" id="2_nbgty"]
[ext_resource type="Texture2D" uid="uid://mx2ygakmem41" path="res://assets/kenney_tiny-dungeon/Tilemap/tilemap_packed.png" id="2_vrc4q"]
[ext_resource type="Script" uid="uid://34038uuij0uw" path="res://components/tile_highlight_manager/tile_highlight_manager.gd" id="3_pe1ox"]
[ext_resource type="Script" uid="uid://cjabqgtq2j7dj" path="res://entities/unit_team_container/unit_team_container.gd" id="3_qkmgm"]
[ext_resource type="Script" uid="uid://kdmoofypyfqi" path="res://entities/unit_team/unit_team.gd" id="4_hnne4"]
[ext_resource type="Script" uid="uid://drelgn24vd148" path="res://components/unit_controller/random_controller.gd" id="6_pe1ox"]
[ext_resource type="Script" uid="uid://hlpkw60qnjd7" path="res://components/unit_controller/player_controller.gd" id="7_b7m21"]
[ext_resource type="Resource" uid="uid://8ha2b12rbaxv" path="res://resources/unit_definition/player.tres" id="8_x4oov"]
[ext_resource type="Resource" uid="uid://bk6jkpq2anntw" path="res://resources/unit_definition/knight.tres" id="10_ivku7"]
[ext_resource type="Resource" uid="uid://cphikvpfwpwxw" path="res://resources/unit_definition/cyclops.tres" id="11_ivku7"]
[ext_resource type="PackedScene" uid="uid://cgk6a4uoxt8vt" path="res://ui/action_chooser/action_chooser.tscn" id="12_m0bv2"]
[ext_resource type="Resource" uid="uid://b4e16px0a4n0y" path="res://resources/unit_definition/ghost.tres" id="12_pm6rs"]
[ext_resource type="PackedScene" uid="uid://cs5nt708g21yc" path="res://ui/win_display/win_display.tscn" id="15_vrc4q"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_x4oov"]
texture = ExtResource("2_vrc4q")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
7:0/0/custom_data_0 = true
8:0/0 = 0
8:0/0/custom_data_0 = true
9:0/0 = 0
9:0/0/custom_data_0 = true
10:0/0 = 0
10:0/0/custom_data_0 = true
11:0/0 = 0
11:0/0/custom_data_0 = true
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
2:1/0/custom_data_0 = true
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
6:1/0/custom_data_0 = true
7:1/0 = 0
7:1/0/custom_data_0 = true
8:1/0 = 0
8:1/0/custom_data_0 = true
9:1/0 = 0
9:1/0/custom_data_0 = true
10:1/0 = 0
10:1/0/custom_data_0 = true
11:1/0 = 0
11:1/0/custom_data_0 = true
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
4:2/0/custom_data_0 = true
5:2/0 = 0
5:2/0/custom_data_0 = true
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
9:2/0/custom_data_0 = true
10:2/0 = 0
10:2/0/custom_data_0 = true
11:2/0 = 0
11:2/0/custom_data_0 = true
0:3/0 = 0
0:3/0/custom_data_0 = true
1:3/0 = 0
1:3/0/custom_data_0 = true
2:3/0 = 0
2:3/0/custom_data_0 = true
3:3/0 = 0
3:3/0/custom_data_0 = true
4:3/0 = 0
4:3/0/custom_data_0 = true
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
9:3/0/custom_data_0 = true
10:3/0 = 0
10:3/0/custom_data_0 = true
11:3/0 = 0
11:3/0/custom_data_0 = true
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
9:4/0/custom_data_0 = true
10:4/0 = 0
10:4/0/custom_data_0 = true
11:4/0 = 0
11:4/0/custom_data_0 = true

[sub_resource type="TileSet" id="TileSet_i166f"]
tile_layout = 1
custom_data_layer_0/name = "is_solid"
custom_data_layer_0/type = 1
sources/1 = SubResource("TileSetAtlasSource_x4oov")

[sub_resource type="Resource" id="Resource_pm6rs"]
script = ExtResource("7_b7m21")
metadata/_custom_type_script = "uid://hlpkw60qnjd7"

[sub_resource type="Resource" id="Resource_0fkkc"]
script = ExtResource("6_pe1ox")
metadata/_custom_type_script = "uid://drelgn24vd148"

[sub_resource type="Resource" id="Resource_qjqsm"]
script = ExtResource("7_b7m21")
metadata/_custom_type_script = "uid://hlpkw60qnjd7"

[sub_resource type="Resource" id="Resource_ss4b2"]
script = ExtResource("6_pe1ox")
metadata/_custom_type_script = "uid://drelgn24vd148"

[node name="Level" type="Node"]
script = ExtResource("1_h3e3j")

[node name="Tilemap" type="TileMapLayer" parent="."]
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAAAAQABAAEAAAABAAAAAQAAAAQAAAABAAEAAQAAAAQAAAACAAAAAQAAAAQAAAACAAEAAQAAAAQAAAACAAIAAQAAAAQAAAABAAIAAQAAAAQAAAADAAAAAQAAAAQAAAAEAAAAAQAAAAQAAAAFAAAAAQAAAAQAAAAGAAAAAQAAAAQAAAAHAAAAAQAAAAQAAAAIAAAAAQAAAAQAAAAJAAAAAQAAAAQAAAAKAAAAAQAAAAQAAAALAAAAAQAAAAQAAAAMAAAAAQAAAAQAAAANAAAAAQAAAAQAAAAOAAAAAQADAAEAAAAOAAEAAQADAAEAAAAOAAIAAQADAAEAAAAOAAMAAQADAAEAAAAOAAQAAQADAAEAAAAOAAUAAQADAAEAAAAOAAYAAQADAAEAAAAOAAcAAQADAAEAAAAOAAgAAQADAAEAAAAOAAkAAQADAAIAAAANAAkAAQACAAIAAAAMAAkAAQACAAIAAAALAAkAAQACAAIAAAAKAAkAAQACAAIAAAAJAAkAAQACAAIAAAAIAAkAAQACAAIAAAAHAAkAAQACAAIAAAAGAAkAAQACAAIAAAAFAAkAAQACAAIAAAAEAAkAAQACAAIAAAADAAkAAQACAAIAAAACAAkAAQACAAIAAAABAAkAAQACAAIAAAAAAAkAAQABAAIAAAAAAAgAAQABAAEAAAAAAAcAAQABAAEAAAAAAAYAAQABAAEAAAAAAAUAAQABAAEAAAAAAAQAAQABAAEAAAAAAAMAAQABAAEAAAAAAAIAAQABAAEAAAAAAAEAAQABAAEAAAABAAcAAQAAAAQAAAABAAYAAQAAAAQAAAABAAUAAQAAAAQAAAABAAQAAQAAAAQAAAABAAgAAQAAAAQAAAABAAMAAQAAAAQAAAACAAgAAQAAAAQAAAADAAcAAQAAAAQAAAADAAYAAQAAAAQAAAADAAUAAQAAAAQAAAADAAQAAQAAAAQAAAADAAMAAQAAAAQAAAADAAIAAQAAAAQAAAACAAQAAQAAAAQAAAACAAUAAQAAAAQAAAACAAYAAQAAAAQAAAACAAcAAQAAAAQAAAADAAEAAQAAAAQAAAACAAMAAQAAAAQAAAADAAgAAQAAAAQAAAAEAAcAAQAAAAQAAAAFAAYAAQAAAAQAAAAFAAUAAQAAAAQAAAAGAAQAAQAAAAQAAAAGAAMAAQAAAAQAAAAGAAIAAQAAAAQAAAAFAAIAAQAAAAQAAAAEAAIAAQAAAAQAAAAEAAMAAQAAAAQAAAAEAAYAAQAAAAQAAAAFAAcAAQAAAAQAAAAGAAYAAQAAAAQAAAAHAAYAAQAAAAQAAAAIAAUAAQAAAAQAAAAIAAQAAQAAAAQAAAAIAAMAAQAAAAQAAAAIAAIAAQAAAAQAAAAIAAEAAQAAAAQAAAAHAAEAAQAAAAQAAAAGAAEAAQAAAAQAAAAFAAMAAQAAAAQAAAAEAAQAAQAAAAQAAAAEAAUAAQAAAAQAAAAHAAUAAQAAAAQAAAAHAAIAAQAAAAQAAAAGAAUAAQAAAAQAAAAHAAQAAQAAAAQAAAAHAAMAAQAAAAQAAAAFAAEAAQAAAAQAAAAFAAQAAQAAAAQAAAAEAAEAAQAAAAQAAAAEAAgAAQAAAAQAAAAFAAgAAQAAAAQAAAAGAAcAAQAAAAQAAAAIAAgAAQAAAAQAAAAJAAcAAQAAAAQAAAAKAAYAAQAAAAQAAAAKAAUAAQAAAAQAAAAKAAQAAQAAAAQAAAAJAAMAAQAAAAQAAAAIAAYAAQAAAAQAAAAIAAcAAQAAAAQAAAAJAAgAAQAAAAQAAAAKAAcAAQAAAAQAAAAJAAQAAQAAAAQAAAAGAAgAAQAAAAQAAAAHAAgAAQAAAAQAAAAJAAYAAQAAAAQAAAALAAYAAQAAAAQAAAALAAUAAQAAAAQAAAALAAcAAQAAAAQAAAALAAQAAQAAAAQAAAAMAAYAAQAAAAQAAAAMAAUAAQAAAAQAAAAMAAQAAQAAAAQAAAAKAAMAAQAAAAQAAAAHAAcAAQAAAAQAAAAJAAUAAQAAAAQAAAAMAAMAAQAAAAQAAAAMAAIAAQAAAAQAAAALAAIAAQAAAAQAAAALAAMAAQAAAAQAAAAKAAEAAQAAAAQAAAAJAAEAAQAAAAQAAAAKAAIAAQAAAAQAAAAJAAIAAQAAAAQAAAAKAAgAAQAAAAQAAAAMAAEAAQAAAAQAAAAMAAcAAQAAAAQAAAAMAAgAAQAAAAQAAAALAAEAAQAAAAQAAAALAAgAAQAAAAQAAAANAAMAAQAAAAQAAAANAAIAAQAAAAQAAAANAAEAAQAAAAQAAAANAAQAAQAAAAQAAAANAAUAAQAAAAQAAAANAAYAAQAAAAQAAAANAAcAAQAAAAQAAAANAAgAAQAAAAQAAAAAAP//AQABAAEAAAABAP//AQAEAAMAAAACAP//AQAEAAMAAAADAP//AQAEAAMAAAAEAP//AQAEAAMAAAAFAP//AQAEAAMAAAAGAP//AQAEAAMAAAAHAP//AQAEAAMAAAAIAP//AQAEAAMAAAAJAP//AQAEAAMAAAAKAP//AQAEAAMAAAALAP//AQAEAAMAAAAMAP//AQAEAAMAAAANAP//AQAEAAMAAAAOAP//AQADAAEAAAABAP7/AQACAAAAAAACAP7/AQACAAAAAAADAP7/AQACAAAAAAAEAP7/AQACAAAAAAAFAP7/AQACAAAAAAAGAP7/AQACAAAAAAAHAP7/AQACAAAAAAAIAP7/AQACAAAAAAAJAP7/AQACAAAAAAAKAP7/AQACAAAAAAALAP7/AQACAAAAAAAMAP7/AQACAAAAAAANAP7/AQACAAAAAAAOAP7/AQADAAAAAAAAAP7/AQABAAAAAAA=")
tile_set = SubResource("TileSet_i166f")

[node name="TileHighlights" type="Node2D" parent="."]
z_index = 1
script = ExtResource("3_pe1ox")

[node name="MapObjects" type="Node2D" parent="."]

[node name="Units" type="Node2D" parent="."]
script = ExtResource("3_qkmgm")

[node name="FriendlyTeam" type="Node2D" parent="Units"]
script = ExtResource("4_hnne4")

[node name="Player" parent="Units/FriendlyTeam" instance=ExtResource("2_nbgty")]
position = Vector2(40, 56)
controller = SubResource("Resource_pm6rs")
definition = ExtResource("8_x4oov")

[node name="Knight" parent="Units/FriendlyTeam" instance=ExtResource("2_nbgty")]
position = Vector2(104, 88)
controller = SubResource("Resource_0fkkc")
definition = ExtResource("10_ivku7")

[node name="Knight2" parent="Units/FriendlyTeam" instance=ExtResource("2_nbgty")]
position = Vector2(40, 104)
controller = SubResource("Resource_qjqsm")
definition = ExtResource("10_ivku7")

[node name="EnemyTeam" type="Node2D" parent="Units"]
script = ExtResource("4_hnne4")

[node name="Cyclops" parent="Units/EnemyTeam" instance=ExtResource("2_nbgty")]
position = Vector2(200, 72)
controller = SubResource("Resource_ss4b2")
definition = ExtResource("11_ivku7")

[node name="Ghost" parent="Units/EnemyTeam" instance=ExtResource("2_nbgty")]
position = Vector2(136, 24)
controller = SubResource("Resource_ss4b2")
definition = ExtResource("12_pm6rs")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(4, 4)

[node name="UI" type="CanvasLayer" parent="."]

[node name="ActionChooser" parent="UI" instance=ExtResource("12_m0bv2")]

[node name="WinDisplay" parent="UI" instance=ExtResource("15_vrc4q")]

[connection signal="battle_draw" from="Units" to="." method="_on_units_battle_draw"]
[connection signal="battle_over" from="Units" to="." method="_on_units_battle_over"]
